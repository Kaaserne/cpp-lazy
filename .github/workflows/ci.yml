name: Continuous Integration

on:
  push:
    branches:
      - master

  pull_request:
    branches:
      - master

  workflow_dispatch: ~

  schedule:
    - cron: '0 8 * * 1'

jobs:
  gcc:
    uses: ./.github/workflows/gcc.yml
    with:
      doctest_version: ${{ vars.DOCTEST_VERSION }}

  clang:
    uses: ./.github/workflows/clang.yml
    with:
      doctest_version: ${{ vars.DOCTEST_VERSION }}

  msvc:
    uses: ./.github/workflows/msvc.yml
    with:
      doctest_version: ${{ vars.DOCTEST_VERSION }}

  examples:
    uses: ./.github/workflows/examples.yml
  
  module_tests:
    uses: ./.github/workflows/module-tests.yml
